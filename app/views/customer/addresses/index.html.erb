<div class="container">
	<div class="row">
		<div>

			<h4>配送先登録/一覧</h4>

			<%= form_for @address, url: addresses_path do |f| %>
			<% if @address.errors.any? %>
			<div id="error_explanation">
				<h3><%= @address.errors.count %>件のエラーが発生しました</h3>
				<ul>
					<% @address.errors.full_messages.each do |message| %>
					<li><%= message %></li>
					<% end %>
					<% end %>
				</ul>

				<div>
					<%= f.label :"郵便番号(ハイフンなし)" %>
					<%= f.text_field :postal_code %>
				</div>

				<div>
					<%= f.label :"住所" %>
					<%= f.text_field :address %>
				</div>

				<div class="form-inline">
					<%= f.label :"宛名" %>
					<%= f.text_field :name %>
					<%= f.submit "登録する", class: "btn btn-success" %>
					<% end %>
				</div>
			</div>
		</div>

		<table class="table table-bordered">
			<thead>
				<tr>
					<th scope="col">郵便番号</th>
					<th scope="col">住所</th>
					<th scope="col">宛名</th>
					<th scope="col"></th>
				</tr>
			</thead>

			<tbody>
				<% @addresses.each do |address| %>
				<tr>
					<td scope="row">
						<%= address.postal_code %>
					</td>

					<td scope="row">
						<%= address.address %>
					</td>

					<td scope="row">
						<%= address.name %>
					</td>

					<td scope="row">
						<%= link_to "編集する", edit_address_path(address), class: "btn-sm btn-primary edit_address_#{address.id}" %>
						<%= link_to "削除する", address_path(address), method: :delete, data: {confirm: "本当に削除してもよろしいですか？"}, class: "btn-sm btn-danger destroy_address_#{address.id}" %>
					</td>
				</tr>
				<% end %>
			</tbody>
		</table>

	</div>
</div>